{"componentChunkName":"component---src-templates-post-js","path":"/golang-get-parameters-from-aws-APIGateway-using-aws-lambda-functions","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p>Before, move to titorial please, setup your aws lambda and aws APIDateway. Let's start,</p>\n</blockquote>\n<ul>\n<li>Create main.go file and paste the below code.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span>\n\t<span class=\"token string\">\"encoding/json\"</span>\n\t<span class=\"token string\">\"errors\"</span>\n\t<span class=\"token string\">\"log\"</span>\n\n\t<span class=\"token string\">\"github.com/aws/aws-lambda-go/events\"</span>\n\t<span class=\"token string\">\"github.com/aws/aws-lambda-go/lambda\"</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">type</span> MyResponse <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">{</span>\n\tName <span class=\"token builtin\">string</span> <span class=\"token string\">`json:\"name:\"`</span>\n\tFirstname <span class=\"token builtin\">string</span> <span class=\"token string\">`json:\"firstname:\"`</span>\n\tLastname <span class=\"token builtin\">string</span> <span class=\"token string\">`json:\"lastname:\"`</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">HandleRequest</span><span class=\"token punctuation\">(</span>request events<span class=\"token punctuation\">.</span>APIGatewayProxyRequest<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span>events<span class=\"token punctuation\">.</span>APIGatewayProxyResponse<span class=\"token punctuation\">,</span> <span class=\"token builtin\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">if</span> request<span class=\"token punctuation\">.</span>HTTPMethod <span class=\"token operator\">==</span> <span class=\"token string\">\"GET\"</span> <span class=\"token punctuation\">{</span>\n\t\tfirstname <span class=\"token operator\">:=</span> request<span class=\"token punctuation\">.</span>QueryStringParameters<span class=\"token punctuation\">[</span><span class=\"token string\">\"firstname\"</span><span class=\"token punctuation\">]</span>\n\t\tlastname <span class=\"token operator\">:=</span> request<span class=\"token punctuation\">.</span>QueryStringParameters<span class=\"token punctuation\">[</span><span class=\"token string\">\"lastname\"</span><span class=\"token punctuation\">]</span>\n\t\tName <span class=\"token operator\">:=</span> firstname <span class=\"token operator\">+</span> lastname\n\n\t\tResponse <span class=\"token operator\">:=</span> MyResponse<span class=\"token punctuation\">{</span>Name<span class=\"token punctuation\">,</span> firstname<span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">var</span> jsonData <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">byte</span>\n\t\tjsonData<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> json<span class=\"token punctuation\">.</span><span class=\"token function\">Marshal</span><span class=\"token punctuation\">(</span>Response<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n\t\t\tlog<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\tApiResponse <span class=\"token operator\">:=</span> events<span class=\"token punctuation\">.</span>APIGatewayProxyResponse<span class=\"token punctuation\">{</span>Body<span class=\"token punctuation\">:</span> <span class=\"token function\">string</span><span class=\"token punctuation\">(</span>jsonData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> StatusCode<span class=\"token punctuation\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">return</span> ApiResponse<span class=\"token punctuation\">,</span> <span class=\"token boolean\">nil</span>\n\t<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n\t\terr <span class=\"token operator\">:=</span> errors<span class=\"token punctuation\">.</span><span class=\"token function\">New</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Method not allowed\"</span><span class=\"token punctuation\">)</span>\n\t\tApiResponse <span class=\"token operator\">:=</span> events<span class=\"token punctuation\">.</span>APIGatewayProxyResponse<span class=\"token punctuation\">{</span>Body<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Method Not OK\"</span><span class=\"token punctuation\">,</span> StatusCode<span class=\"token punctuation\">:</span> <span class=\"token number\">502</span><span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">return</span> ApiResponse<span class=\"token punctuation\">,</span> err\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tlambda<span class=\"token punctuation\">.</span><span class=\"token function\">Start</span><span class=\"token punctuation\">(</span>HandleRequest<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>Go mod initialize and get required libraries.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">go mod init main\ngo get github.com/aws/aws-lambda-go/lambda\ngo get github.com/aws/aws-lambda-go/events</code></pre></div>\n<ul>\n<li>Build and zip main file for upload to aws lambda. Here, I mentioned the code for windows.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">go build -o main main.go\ntar.exe -a -c -f main.zip main</code></pre></div>","frontmatter":{"title":"GOLANG get parameters from aws APIGateway using aws lambda functions","description":"GOLANG get parameters from aws APIGateway using aws lambda functions","date":"2021-06-05T23:21:42.272Z","slug":"/golang-get-parameters-from-aws-APIGateway-using-aws-lambda-functions","tags":["AWS"]}}},"pageContext":{}},"staticQueryHashes":["1994492073","3391063840","604461682","956832748"]}